#: import NoTransition kivy.uix.screenmanager.NoTransition
<DrawerClickableItem@MDNavigationDrawerItem>
    white: '#ffffff'
    text_color: self.white
    selected_color: self.white

<MyB>


<MyRoot>:
    MDScreen:
        name: 's1'
        MDNavigationLayout:
            MDScreenManager:
                MDScreen:
                    MDBoxLayout:
                        padding: '5dp'
                        orientation: 'vertical'
                        MDTopAppBar:
                            id: top_bar
                            title: root.return_settings_data('car_name')
                            elevation: 4
                            pos_hint: {'top': 1}
                            left_action_items: [['menu', lambda x: nav_drawer.set_state('open')]]
                        Widget:
                        #MDFloatingActionButton:
                        #    pos_hint: {'center_x': .9}
                        #    icon: "note-plus-outline"
                        #    md_bg_color: app.theme_cls.primary_color
                        #    on_press:
                        #        root.transition = NoTransition()
                        #        root.current = 's3'
                        MDBoxLayout:
                            padding: '10dp'
                            Widget:
                            MDFillRoundFlatIconButton:
                                text: 'GRM'
                                icon: 'car-cog'
                            MDFillRoundFlatIconButton:
                                pos_hint_x: {'center_x': 'right'}
                                text: 'TO'
                                icon: 'oil'
                            MDFillRoundFlatIconButton:
                                text: 'Note'
                                icon: 'note-plus-outline'
                                on_press:
                                    root.current = 's3'
                            Widget:

            MDNavigationDrawer:
                id: nav_drawer
                radius: (0, 16, 16, 0)
                MDNavigationDrawerMenu:
                    MDNavigationDrawerHeader:
                        title: 'Header title'
                        text: 'Header text'
                        spacing: '4dp'
                        padding: '12dp', 0, 0, '56dp'
                    #MDNavigationDrawerLabel:
                    #    text: 'Settings'
                    DrawerClickableItem:
                        icon: 'cog'
                        text: 'Settings'
                        on_press:
                            nav_drawer.set_state('close')
                            root.current = 's2'
                            root.transition = NoTransition()
                            root.mybox_build()
                    DrawerClickableItem:
                        icon: 'tag'
                        text: 'Tags'
                        on_press:
                            nav_drawer.set_state('close')
                            root.current = 's4'
                            root.transition = NoTransition()
                    MDNavigationDrawerDivider:
                    MDNavigationDrawerLabel:
                        text: 'Labels'

    MDScreen:
        name: 's2'
        MDBoxLayout:
            orientation: 'vertical'
            padding: '20dp'
            MDTextField:
                id: change_car_name_tf
                required: True
                hint_text: 'Name of car'
                text: root.return_settings_data('car_name')
            MDLabel:
                text: 'What will tracking'
                size_hint_y: .1
            MDBoxLayout:
                id: mybox
                orientation: 'vertical'
                size_hint_y: .1
            Widget:
            MDFillRoundFlatButton:
                pos_hint: {'center_x': .5}
                text: 'Ok'
                on_press:
                    root.set_settings_data('car_name', root.ids.change_car_name_tf.text)
                    root.ids.top_bar.title = root.return_settings_data('car_name')
                on_release:
                    root.transition = NoTransition()
                    root.current = 's1'
    MDScreen:
        name: 's3'
        MDBoxLayout:
            orientation: 'vertical'
            padding: '10dp'
            MDLabel:
                text: 'fill'
                size_hint_y: .1
            MDTextField:
                id: job
                required: True
                hint_text: 'Jobs'

            MDTextField:
                id: comment
                required: True
                hint_text: 'Comments'
                multiline: True

            MDTextField:
                id: price
                required: True
                hint_text: 'price'
                input_filter: 'int'

            MDLabel:
                id: mydate
                text: 'date?'
                size_hint_y: .15

            MDFillRoundFlatButton:
                pos_hint: {'center_x': .5}
                text: 'Set date'
                on_release:
                    root.show_date_picker()

            Widget:
            MDFillRoundFlatButton:
                pos_hint: {'center_x': .5}
                text: 'Ok'
                on_press:
                    root.transition = NoTransition()
                    root.current = 's1'
                    root.ppp(root.ids.job.text, root.ids.comment.text, root.ids.price.text, root.ids.mydate.text, tag='other')


    MDScreen:
        name: 's4'
        MDBoxLayout:
            orientation: 'vertical'
            padding: '10dp'
            MDLabel:
                size_hint_y: .1
                text: 'Available tag'
            Widget:
            MDFillRoundFlatButton:
                pos_hint: {'center_x': .5}
                text: 'Ok'
                on_press:
                    root.transition = NoTransition()
                    root.current = 's1'
